---
layout: post
title: Command a DC motor with Raspberry Pi
date: 2014-04-11 13:29:00.000000000 -07:00
type: post
published: true
status: publish
categories: []
tags: []
meta:
  _publicize_pending: '1'
  blogger_blog: blog.jiashen.me
  blogger_author: Jia Shen Boon
  blogger_406b70948e1d03d2554041dda5a8b48e_permalink: '1895437389591897573'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1463567551;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:16;}i:1;a:1:{s:2:"id";i:25;}i:2;a:1:{s:2:"id";i:28;}}}}
  original_post_id: '18'
  _wp_old_slug: '18'
author:
  login: boonjiashen
  email: jiashen@gmail.com
  display_name: jiashen
  first_name: ''
  last_name: ''
---
<p>I did it! I've been wanting to do this for a while and finally got down to doing it. It's definitely not hard, but still, it takes a bit of effort if you don't have the background.</p>
<p>Here's my set-up:<br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left:auto;margin-right:auto;text-align:center;">
<tbody>
<tr>
<td style="text-align:center;"><a href="http://162.243.9.245/wp-content/uploads/2015/07/f7004-imag0333.jpg" style="margin-left:auto;margin-right:auto;"><img border="0" src="{{ site.baseurl }}/assets/f7004-imag0333.jpg" height="237" width="320" /></a></td>
</tr>
<tr>
<td class="tr-caption" style="text-align:center;">Circuit diagram to command a DC motor with Raspberry Pi</td>
</tr>
</tbody>
</table>
<p>For those not familiar with circuit symbols,<br />The two vertical lines = power supply (these are the pins from the Raspberry Pi)<br />The three horizontal lines = ground (also to the Raspberry Pi)<br />The circle surrounded by 'C', 'B' and 'E' = NPN transistor<br />The circle with an 'M' inside = motor (that's my DC motor)<br />The triangle with a line at its tip = diode</p>
<p>All I wanted to do was command the DC motor to either move or not move, via one of the GPIO pins. That's simple enough. There's a number of GPIOs on the RPi that provide 3.3V and can be flipped on and off over a simple Python program. This GPIO provides current to the base of an NPN transistor, and that allows current to flow from the collector to emitter of the transistor.</p>
<p>The voltage that drives the motor is from the constant 5V pin of the RPi.</p>
<p>Here's the result!
<div class="separator" style="clear:both;text-align:center;"><a href="https://www.youtube.com/v/Yt3GviiBWpQ?f=videos&#038;c=google-webdrive-0&#038;app=youtube_gdata">https://www.youtube.com/v/Yt3GviiBWpQ?f=videos&#038;c=google-webdrive-0&#038;app=youtube_gdata</a></div>
<p>
<div class="separator" style="clear:both;text-align:center;"></div>
<p>All the program does is flip the 3.3V pin ON for two seconds, then OFF for two seconds, ad infinitum. Note that the (normally off) push button is in series with this 3.3V pin, which means current flows if and only if the button is pressed.</p>
<p><a name="more"></a><br />References:</p>
<ul>
<li><b>Flyback diode</b> [<a href="http://en.wikipedia.org/wiki/Flyback_diode">wikipedia</a>] the diode that eliminates voltage spikes when the DC motor is turned off</li>
<li><b>Controlling a DC motor with RPi</b> [<a href="http://www.youtube.com/watch?v=W7cV9_W12sM">YouTube</a>] my circuit is pretty much copied from this guy</li>
<li><b>GPIO reference</b> [<a href="http://www.adafruit.com/blog/wp-content/uploads/2013/01/Diagram-includes-BCM-GPIO-references.png">adafruit</a>] what each RPi pin does</li>
</ul>
<p>Sidenote: I've titled this post "command" a DC motor rather than "control" a DC motor because to me, control implied some kind of feedback loop, which is definitely not what's happening here.</p>
