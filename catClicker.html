<!DOCTYPE html>
<html>
<head>
    <title>Cat clicker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>

<div class="list"></div>
<div class="displayArea"></div>

<script type="text/javascript">

    function catController(catParams) {
        function checkParams(params) {
            var requiredAttr = ['name', 'imageFilename', 'counter'];
            for (let attr of requiredAttr) {
                if (!params.hasOwnProperty(attr)) {
                    throw new Error('no property ' + attr);
                }
            }
        }
        checkParams(catParams);

        var $parentDiv = $("<div />");
        var $nameDiv = $("<div />", {
            text: catParams.name,
        });
        var $imageDiv = $("<img />", {
            src: catParams.imageFilename,
            height: '100px',
        });
        var $counterDiv = $("<div />", {
            text: catParams.counter,
        });
        $imageDiv.click(function() {
            catParams.counter++;
            $counterDiv.text(catParams.counter);
        });
        $parentDiv.append($nameDiv).append($imageDiv).append($counterDiv);

        return $parentDiv;
    }

    function createLink(cat) {
        var $link = $("<a />", {
            href: "javascript:void(0)",
            text: cat.name,
        });
        $link.click(function() {
            listItemClickHandler(cat);
        });

        return $link;
    }

    function listItemClickHandler(cat) {
        var $div = catController(cat);
        $(".displayArea").html($div);
    }

    function listController(cats) {
        var $list = $("<ul />");
        for (let cat of cats) {
            var $item = $("<li />")
            $item.append(createLink(cat));
            $list.append($item);
        }
        return $list;
    }

    var cats = [
    {
        name: "chicken",
        imageFilename: "assets/cat.jpg",
    },
    {
        name: "facial",
        imageFilename: "assets/cat2.jpg",
    },
    {
        name: "kentuck",
        imageFilename: "assets/cat3.jpg",
    },
    {
        name: "roast",
        imageFilename: "assets/cat4.jpg",
    },
    {
        name: "ballat",
        imageFilename: "assets/cat5.jpg",
    },
    ];

    for (let cat of cats) {
        cat.counter = 0;
    }

    $(".list").html(listController(cats));
</script>
</body>
</html>