<!DOCTYPE html>
<html>
<head>
    <title>My game</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>
    <canvas id="myCanvas" width="600" height="600" tabindex="0"></canvas>
<script type="text/javascript">

    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext('2d');
    var img = null;
    var frames = [];
    var frameIdx = 0;
    var FPS = 10;
    var foo = null;

    function onMouseMove(event) {
        console.log(event.clientX.toString() + ' ' + event.clientY.toString());
    }

    function onKeyDown(event) {
        console.log(event.keyCode);
        // foo = event;
        console.log("keydown!");
    }

    var setup = function() {
        console.log("start of setup");
        canvas.addEventListener("mousemove", onMouseMove, false);
        canvas.addEventListener("keydown", onKeyDown, false);
        // var body = document.body;
        // canvas = document.createElement('canvas');


        // canvas.width = window.innerWidth;
        // canvas.height = window.innerHeight;

        // body.appendChild(canvas);

        // canvas.addEventListener('mousemouse', function() {
        //     console.log("mousemove!");
        // });
        // document.getElementById("canvas").addEventListener('keydown', function(event) {
        //     console.log("keydown!");
        // });

        function onLoad() {
            console.log("loaded!");
        }

        var NUM_IMAGES = 8;
        for (var i = 0; i < NUM_IMAGES; ++i) {
            frames.push(new Image());
            frames[i].src = 'assets/obama' + (i + 1) + '.gif';
            frames[i].onload = onLoad;
        }

        setInterval(animate, 1000/FPS);
        console.log("what");
    };

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(frames[frameIdx], 192, 192);
        frameIdx = (frameIdx + 1) % frames.length;
    }

    window.onload = setup;
</script>
</body>
</html>